---
date: 2005-09-12 23:19:00
type: post
title_en: about-the-algorithm-of-llk
title: 关于"连连看"得算法
wordpress_id: 137
tags:
- tech
---

最近准备研究一下连连看得算法, 说不定哪天闲下来还可以写一个小外挂玩玩  
  
之前简单的想了一下算法, 最笨的方法也就是一个双重的宽度有限搜索了, 遍历整个矩阵. 因为没有深入的思考, 所以先不发表自己的想法.  
  
后来上网看到有些同志已经作出了一些成果, 只是思路和我不太一样, 在此先贴上来, 学习一下, 等我略有小成的时候再贴我自己的  
  
===================================  

连连看所要求的是：  

1. 两个目标是相同的  
2. 两个目标之间连接线的折点不超过两个。（连接线由x轴和y轴的平行线组成） 那么分析一下连接的情况可以看到，一般分三种情况  
	1. 直线相连 
	2. 一个折点 
	3. 两个折点 如图：  

		[](http://www.icbean.com/nickcheng/uploads/200509/12_231927_llk1.jpg)[![12_231927_llk1.jpg](http://nickcheng.com/wp-content/112902455210_tn.jpg)](http://nickcheng.com/wp-content/112902455210.jpg)
  
可以发现，如果有折点，每个折点必定有且至少有一个坐标（x或者y）是和其中一个目标点是相同的，也就是说，折点必定在两个目标点所在的x方向或y方向的直线上。  

所以设计思路就是：  

假设目标点 p1 , p2 ,如果有两个折点分别为z1 , z2 那么，所要进行的是  

1. 如果验证p1 , p2 直线连线，则连接成立  
2. 搜索以p1,p2的x,y方向四条直线（可能某两条直线会重合）上的有限点，每次取两点作为z1,z2 ,验证p1到z1/z1到z2/z2到p2 是否都能直线相连 ，是则连接成立。（如果z1=z2也就是只有一个折点喽，对判断没影响）  
  
===================================  
  
原作者还给出了一段代码和演示来展示自己的算法. 因为我们关注的是算法, 那些实现在此就不贴了, 有兴趣的可以自己去搜一下
